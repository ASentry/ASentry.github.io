---
layout: post
title: 渗透测试
author: ASentry
header-img: "img/penetration.jpg"
catalog: ture
---
> ***巡游五角大楼，登录克里姆林宫，进出全球所有的计算机系统，摧垮全球金融秩序和重建新的世界格局，谁也阻挡不了我们的进攻，我们才是世界的主宰***。

## 前言 ##
自从接触到庞大无比的网络世界，看到凯文·米特尼克豪迈的宣言。黑客，仿佛才是计算机世界的领军者。但而今，一些黑客却抛弃信仰危害着计算机世界。或许只有自己强大，才能够保护他人。
## 渗透测试 ##
渗透测试是一种通过模拟恶意攻击者的技术和方法，挫败目标安全系统控制，取得访问控制权，并发现具备影响业务后果的安全隐患的一种安全测评方式。     
渗透测试通过对目标系统的主动探测，发现其潜在漏洞，包括不恰当配置，已知或未知的软硬件漏洞，以及安全计划在响应及操作方面的弱点等。   
总的来说，渗透测试者是将自己放在一个攻击者的位置上，力求最真实最完善的发现目标系统中所存在漏洞并帮助系统所有者修复漏洞以免去更大的损失。
## 渗透测试分类 ##
### 1.黑盒测试 ###
黑盒测试(Black-box Testing)也称为外部测试（External Testing）、Zero-Knowledge Testing。采用这种方式测试时，渗透测试团队对目标网络的相关信息一无所知，采取从远程网络位置来评估目标网络。他们将使用现今流行的技术与工具，完全模拟真实攻击者对目标网络进行渗透与入侵。
黑盒测试能够测试出目标组织安全团队的检测及响应能力，但是黑盒测试费时费力且要求测试者要用较高的技术水平。
### 2.白盒测试 ###
白盒测试（White-box Testing）也成为内部测试（Internal Testing）。白盒测试可首先了解到目标环境的所有内部与底层知识，无需再进行目标定位及情报收集，可以使渗透测试者以最小的代价发现最严重的漏洞。如果实施到位，白盒测试能够消除更多的漏洞带来更大的价值。但是白盒测试无法评定目标组织安全团队的检测及响应能力，也无法判断出安全团队的安全计划对特定攻击的效率。
### 3.灰盒测试 ###
灰盒测试=黑盒测试+白盒测试     
灰盒测试（Grey-box Testing）能够发挥出两种测试方法各自的优势。灰盒测试需要测试者能够根据对目标系统所掌握有限知识，自主选择评估整体安全的途径。在灰盒测试中，测试者也需要从外部逐步渗透进目标网络，但他拥有目标网络底层的拓扑与架构有利用更好的决策攻击途径与方法 ，从而达到更好的效果。      
## 渗透测试规范化流程 ##
### 1.前期交互阶段 ###
在前期交互（Pre-Engagement Interaction）阶段，渗透测试团队与客户进行讨论划定渗透测试范围、目标、限制以及服务合同等细节。  
### 2.情报搜集阶段 ###
目标确定之后，进入情报搜集（Information Gathering）阶段,渗透测试团队将利用公开源信息查询、Google Haking、社会工程学、网络踩点、扫描探测、被动监听、服务查点等方法尝试获取关于目标网络拓扑、系统配置与安全防御信息。情报搜集充分与否很大程度上决定了渗透测试的成败。因而为了全面的情报而花费时间是值得的。侦查永远不浪费时间。     
### 3.威胁建模阶段 ###
在收集到充分的情报后，渗透测试团队将针对获取到的信息进行威胁建模和攻击规划，确定出最可行的攻击通道。   
### 4.漏洞分析阶段 ###
在确定出可行的攻击通道后，渗透测试团队将对系统进行漏洞分析找出可以实施攻击的点，并在实验环境中验证，高水平团队还会对攻击通道上的关键系统与服务进行漏洞发掘，已找出未知漏洞，并开发出渗透代码，从而打开攻击的关键路径。     
### 5.渗透攻击阶段 ###
这是渗透测试最有魅力的阶段。渗透测试团队将利用已知漏洞进行入侵，获得的权限。在黑盒测试中，渗透测试者还要考虑对目标检测机制的逃逸，以免被目标组织安全团队警觉和发现。     
### 6.后渗透测试阶段 ###
渗透测试团队将针对目标的不同特点进行自主攻击，以期望找到客户组织最具价值的信息和资产，达到对目标重要业务影响的目的。
### 7.报告阶段 ###
渗透测试团队将提供一份报告给客户，这份报告包含了团队获得的重要信息、系统安全漏洞、成功渗透过程、及对造成业务的影响攻击途径，帮助客户分析安全系统的薄弱环节、存在问题及修补方案。  
![](http://i.imgur.com/XZ0FxJn.jpg)     
## 安全漏洞生命周期 ##
安全漏洞生命周期如图：
![](http://i.imgur.com/whpt68o.jpg)  
0day:安全漏洞被发现到厂商发布补丁程序用于修补该漏洞之前的这段时期，被称为0day。0day期间黑客攻击成功率为100％且可以躲避检测。因此，0day漏洞及对应渗透代码具有极高的价值，挖掘0day漏洞及开发对应渗透代码也成为高水平黑客的追求。      
#### 参考文献 ####
《Metasploit魔鬼训练营》



